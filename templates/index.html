<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Car Price Prediction</title>
    <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/logo.avif') }}">

    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="relative bg-cover bg-center" style="background-image: url('/static/car-bg.webp');">

    <div class="absolute inset-0 bg-white/30 bg-opacity-70 z-0"></div>

    <div class="relative z-10 min-h-screen flex items-center justify-center">
        <form action="/predict" method="post"
            class="bg-white shadow-2xl rounded-2xl p-10 w-full max-w-lg space-y-6 transition duration-500 ease-in-out transform hover:scale-[1.01] hover:shadow-blue-200">

            <h2 class="text-3xl font-bold text-center text-black">Car Price Predictor</h2>

            <div class="mb-4">
                <label class="block mb-2 text-black font-semibold">Car Brand</label>
                <select id="carBrand" name="Car_Brand" required
                    class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black">
                    <option disabled selected>Select Brand</option>
                    <option value="Toyota">Toyota</option>
                    <option value="Hyundai">Hyundai</option>
                    <option value="Honda">Honda</option>
                    <option value="Maruti">Maruti</option>
                    <option value="Kia">Kia</option>
                    <option value="Mahindra">Mahindra</option>
                    <option value="Tata">Tata</option>
                    <option value="MG">MG</option>
                    <option value="Nissan">Nissan</option>
                    <option value="Mercedes">Mercedes</option>
                    <option value="Land Rover">Land Rover</option>
                    <option value="Audi">Audi</option>
                    <option value="Skoda">Skoda</option>
                    <option value="Volkswagen">Volkswagen</option>
                </select>
            </div>

            <div class="mb-4">
                <label class="block mb-2 text-black font-semibold">Car Name</label>
                <select id="carName" name="Car_Name" required
                    class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black">
                    <option disabled selected>Select Car</option>
                </select>
            </div>

            <div>
                <label for="Year" class="block text-gray-900 text-md bold font-medium mb-1">Year:</label>
                <select name="Year" id="Year" required
                    class="w-full p-3 rounded-lg bg-white text-black border border-gray-300 focus:ring-2 focus:ring-blue-400 transition duration-300">
                    <option value="" disabled selected>SELECT YEAR</option>
                    {% for y in range(2000, 2026) %}
                    <option value="{{ y }}">{{ y }}</option>
                    {% endfor %}
                </select>

            </div>

            <div>
                <label class="block mb-2 text-black font-semibold">Present Price (Lakh ₹)</label>
                <input type="number" name="Present_Price" required min="0" step="0.01"
                    placeholder="Enter price in lakhs"
                    class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black" />
            </div>

            <div>
                <label class="block mb-2 text-black font-semibold">Kms Driven</label>
                <input type="number" name="Kms_Driven" required placeholder="Total KMs driven"
                    class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black" />
            </div>

            <div>
                <label class="block mb-2 text-black font-semibold">Fuel Type</label>
                <select name="Fuel_Type" required
                    class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black">
                    <option value="">Select</option>
                    <option value="Petrol">Petrol</option>
                    <option value="Diesel">Diesel</option>
                    <option value="CNG">CNG</option>
                </select>
            </div>

            <div>
                <label class="block mb-2 text-black font-semibold">Seller Type</label>
                <select name="Seller_Type" required
                    class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black">
                    <option value="">Select</option>
                    <option value="Dealer">Dealer</option>
                    <option value="Individual">Individual</option>
                </select>
            </div>

            <div>
                <label class="block mb-2 text-black font-semibold">Transmission</label>
                <select name="Transmission" required
                    class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black">
                    <option value="">Select</option>
                    <option value="Manual">Manual</option>
                    <option value="Automatic">Automatic</option>
                </select>
            </div>

            <div>
                <label class="block mb-2 text-black font-semibold">Owner</label>
                <select name="Owner" required
                    class="w-full px-4 py-2 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-yellow-500 text-black">
                    <option value="">Select</option>
                    <option value="0">First Owner</option>
                    <option value="1">Second Owner</option>
                    <option value="2">Third Owner</option>
                </select>
            </div>

            <div class="flex justify-center">
                <button type="submit"
                    class="bg-yellow-500 text-white px-6 py-2 rounded-lg hover:bg-yellow-600 transition duration-300 transform hover:scale-105 font-bold">
                    Predict Price
                </button>
            </div>
        </form>
    </div>

    {% if prediction_text %}
    <div class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-70 z-50">
        <div
            class="bg-white text-black rounded-2xl shadow-2xl p-8 w-11/12 max-w-md transform scale-100 transition-all duration-500">
            <h2 class="text-2xl font-bold text-center text-green-600 mb-4">Estimated Price</h2>
            <p class="text-center text-xl font-semibold">{{ prediction_text }}</p>
            <div class="text-center mt-6">
                <a href="/"
                    class="inline-block bg-blue-600 text-white py-2 px-6 rounded-lg hover:bg-blue-500 transition transform hover:scale-105">Check
                    Another</a>
            </div>
        </div>
    </div>
    {% endif %}

    <script>
        const carOptions = {
            "Toyota": [
                "Glanza",
                "Urban Cruiser Taisor",
                "Urban Cruiser Hyryder",
                "Rumion",
                "Innova Crysta",
                "Innova Hycross",
                "Fortuner",
                "Land Cruiser",
                "Legender",
                "Camry",
                "Vellfire",
                "Hilux"],
            "Hyundai": [
                "Grand i10 NIOS",
                "i20",
                "i20 N Line",
                "Aura",
                "Exter",
                "Venue",
                "Venue N Line",
                "Creta",
                "Creta N Line",
                "Alcazar",
                "Verna",
                "Tucson",
                "Ioniq 5",
                "Kona Electric"
            ],
            "Honda": ["City", "Amaze", "WR-V", "Jazz", "Elevate"],
            "Maruti Suzuki": [
                "Alto K10",
                "S-Presso",
                "Celerio",
                "Wagon R",
                "Swift",
                "Dzire",
                "Baleno",
                "Fronx",
                "Ignis",
                "Ertiga",
                "XL6",
                "Brezza",
                "Grand Vitara",
                "Jimny",
                "Invicto",
                "Eeco",
                "Super Carry"
            ],
            "Kia": [
                "Seltos",
                "Sonet",
                "Carens",
                "EV6",
                "Carnival"
            ],
            "Mahindra": [
                "Scorpio-N",
                "Scorpio Classic",
                "Thar",
                "XUV700",
                "XUV300",
                "Bolero",
                "Bolero Neo",
                "Marazzo",
                "Alturas G4",
                "eVerito",
                "XUV400 EV"
            ],
            "Tata": [
                "Nexon",
                "Punch",
                "Tiago",
                "Tigor",
                "Harrier",
                "Safari",
                "Altroz",
                "Tiago EV",
                "Tigor EV",
                "Nexon EV",
                "Punch EV"
            ],
            "MG": [
                "Comet EV",
                "ZS EV",
                "Windsor EV",
                "Astor",
                "Hector",
                "Hector Plus",
                "Gloster",
                "Cyberster",
                "M9"
            ],
            "Nissan": ["Magnite", "X-Trail"],
            "Mercedes": ["C‑Class", "E‑Class", "S‑Class", "GLA", "GLC", "GLE", "AMG GT 63", "AMG GT 63 PRO", "EQS", "EQE SUV"],
            "Land Rover": ["Defender", "Range Rover", "Range Rover Velar", "Range Rover Sport", "Range Rover Evoque", "Discovery", "Discovery Sport"],
            "Audi": ["A4", "A6", "A8 L", "Q3", "Q3 Sportback", "Q5", "Q7", "Q8", "Q8 e-tron", "Q8 Sportback e-tron", "e-tron GT", "RS e-tron GT", "S5 Sportback"],
            "Skoda": ["Kushaq", "Slavia", "Kodiaq"],
            "Volkswagen": ["Virtus", "Taigun", "Tiguan", "Tiguan R-Line", "Golf GTI", "ID.4"]
        };

        document.getElementById("carBrand").addEventListener("change", function () {
            const brand = this.value;
            const carNameSelect = document.getElementById("carName");
            carNameSelect.innerHTML = '<option disabled selected>Select Car</option>';

            if (carOptions[brand]) {
                carOptions[brand].forEach(function (car) {
                    const option = document.createElement("option");
                    option.value = car;
                    option.textContent = car;
                    carNameSelect.appendChild(option);
                });
            }
        });
    </script>

</body>

</html>